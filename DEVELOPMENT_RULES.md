# QR 코드 연동 계좌이체 시스템 개발 룰

## 📋 프로젝트 개요
QR 코드를 통한 계좌이체 시스템으로, 매장 주인용 관리 시스템과 고객용 이체 페이지로 구성됩니다.

## 🎯 핵심 기능 요구사항

### 고객용 계좌이체 페이지 (Customer Transfer Page)
- **매장 계좌 정보 표시**: 은행명, 계좌번호, 예금주명을 직관적으로 표시
- **계좌번호 복사 기능**: 클립보드 복사 버튼 제공
- **은행 앱 바로가기**: 주요 은행 앱으로 직접 이동 버튼
- **이체 완료 안내**: 다음 단계 진행을 위한 안내 시스템
- **모바일 최적화**: 반응형 웹 디자인 필수

### 매장 주인용 관리 시스템 (Store Owner Management)
- **매장 등록/관리**: 매장명, 계좌정보 등록 및 수정
- **QR 코드 자동 생성**: 계좌정보 기반 고유 QR 코드 생성
- **QR 코드 미리보기/다운로드**: 이미지 파일 형태로 다운로드
- **매장 리스트 관리**: 등록된 매장 목록 조회/수정/삭제
- **보안 인증**: 로그인 및 2단계 인증 시스템
- **출력 데이터 생성**: 포토프린터용 데이터 형식

## 🏗️ 프로젝트 구조 규칙

### 폴더 구조
```
src/
├── components/          # 재사용 가능한 컴포넌트
│   ├── common/         # 공통 컴포넌트 (버튼, 모달 등)
│   ├── customer/       # 고객용 컴포넌트
│   └── admin/          # 관리자용 컴포넌트
├── pages/              # 페이지 컴포넌트
│   ├── customer/       # 고객용 페이지
│   └── admin/          # 관리자용 페이지
├── hooks/              # 커스텀 훅
├── utils/              # 유틸리티 함수
├── types/              # TypeScript 타입 정의
├── services/           # API 서비스
├── assets/             # 이미지, 아이콘 등 정적 파일
└── styles/             # 스타일 파일
```

## 📝 코딩 규칙

### 1. 컴포넌트 명명 규칙
- **PascalCase** 사용: `AccountInfo.tsx`, `QrCodeGenerator.tsx`
- **기능별 접두사** 사용:
  - 고객용: `Customer` 접두사 (예: `CustomerTransferPage`)
  - 관리자용: `Admin` 접두사 (예: `AdminStoreList`)

### 2. 파일 명명 규칙
- **컴포넌트**: `PascalCase.tsx`
- **훅**: `use` 접두사 + `PascalCase.ts` (예: `useAccountInfo.ts`)
- **유틸리티**: `camelCase.ts` (예: `qrCodeGenerator.ts`)
- **타입**: `PascalCase.types.ts` (예: `Account.types.ts`)

### 3. TypeScript 규칙
- **모든 컴포넌트에 타입 정의 필수**
- **인터페이스 사용**: `I` 접두사 (예: `IAccountInfo`)
- **타입 별칭 사용**: 복잡한 타입의 경우

### 4. 스타일링 규칙
- **CSS 모듈 사용**: `ComponentName.module.css`
- **반응형 디자인 필수**: 모바일 우선 접근법
- **일관된 색상 팔레트**: 브랜드 색상 정의 및 사용

## 🔒 보안 규칙

### 1. 데이터 보안
- **계좌정보 암호화**: 민감한 계좌 정보는 암호화 저장
- **API 인증**: 모든 관리자 API에 인증 토큰 필수
- **입력 검증**: 모든 사용자 입력에 대한 검증 로직 구현

### 2. 인증 시스템
- **세션 관리**: 안전한 세션 토큰 관리
- **2단계 인증**: 관리자 계정에 2FA 구현
- **권한 분리**: 고객용/관리자용 권한 명확히 분리

## 📱 UI/UX 규칙

### 1. 고객용 페이지
- **직관적 디자인**: 계좌정보가 한눈에 보이도록
- **원터치 복사**: 계좌번호 복사 버튼을 눈에 띄게 배치
- **은행 앱 연동**: 주요 은행 앱 아이콘과 함께 바로가기
- **모바일 최적화**: 터치 친화적 UI 요소

### 2. 관리자용 페이지
- **대시보드 형태**: 주요 정보를 한눈에 확인
- **간편한 등록**: 매장/계좌 정보 등록 폼 단순화
- **QR 코드 미리보기**: 실시간 QR 코드 생성 및 미리보기
- **데이터 관리**: 직관적인 CRUD 인터페이스

## 🧪 테스트 규칙

### 1. 단위 테스트
- **컴포넌트 테스트**: 모든 주요 컴포넌트에 테스트 작성
- **유틸리티 테스트**: 핵심 비즈니스 로직 테스트
- **훅 테스트**: 커스텀 훅 동작 검증

### 2. 통합 테스트
- **페이지 플로우**: 주요 사용자 시나리오 테스트
- **API 연동**: 서비스 레이어 테스트
- **인증 플로우**: 로그인/로그아웃 시나리오

## 🚀 배포 규칙

### 1. 빌드 최적화
- **코드 분할**: 페이지별 lazy loading 구현
- **이미지 최적화**: QR 코드 이미지 압축
- **번들 크기**: 불필요한 의존성 제거

### 2. 환경 설정
- **환경변수**: API 엔드포인트, 키 등 환경별 설정
- **에러 처리**: 사용자 친화적 에러 메시지
- **로깅**: 디버깅을 위한 로그 시스템

## 📊 성능 규칙

### 1. 로딩 최적화
- **스켈레톤 UI**: 로딩 중 사용자 경험 개선
- **이미지 지연 로딩**: QR 코드 이미지 최적화
- **캐싱 전략**: 정적 데이터 캐싱

### 2. 반응성
- **모바일 성능**: 3초 이내 로딩 목표
- **터치 반응**: 100ms 이내 터치 반응
- **애니메이션**: 60fps 유지

## 🔄 개발 워크플로우

### 1. 브랜치 전략
- **main**: 프로덕션 브랜치
- **develop**: 개발 브랜치
- **feature/**: 기능별 브랜치
- **hotfix/**: 긴급 수정 브랜치

### 2. 커밋 규칙
- **feat**: 새 기능 추가
- **fix**: 버그 수정
- **docs**: 문서 수정
- **style**: 코드 포맷팅
- **refactor**: 코드 리팩토링
- **test**: 테스트 추가/수정

### 3. 코드 리뷰
- **모든 PR에 리뷰 필수**
- **보안 관련 코드는 추가 검토**
- **UI/UX 변경사항은 스크린샷 첨부**

## 📋 체크리스트

### 개발 시작 전
- [ ] 프로젝트 구조 설정 완료
- [ ] 필요한 패키지 설치
- [ ] 기본 컴포넌트 템플릿 생성
- [ ] 라우팅 설정

### 기능 개발 시
- [ ] TypeScript 타입 정의
- [ ] 컴포넌트 테스트 작성
- [ ] 반응형 디자인 적용
- [ ] 접근성 고려

### 배포 전
- [ ] 모든 테스트 통과
- [ ] 성능 최적화 완료
- [ ] 보안 검토 완료
- [ ] 사용자 테스트 완료 